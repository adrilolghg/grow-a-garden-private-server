!function(){var t={9870:function(e,r){var t;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
!function(){"use strict";var o={}.hasOwnProperty;function s(){for(var e=[],r=0;r<arguments.length;r++){var t=arguments[r];if(t){var n,a=typeof t;if("string"==a||"number"==a)e.push(t);else if(Array.isArray(t))!t.length||(n=s.apply(null,t))&&e.push(n);else if("object"==a)if(t.toString===Object.prototype.toString||t.toString.toString().includes("[native code]"))for(var i in t)o.call(t,i)&&t[i]&&e.push(i);else e.push(t.toString())}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(t=function(){return s}.apply(r,[]))||(e.exports=t)}()}},n={};function Dt(e){var r=n[e];if(void 0!==r)return r.exports;r=n[e]={exports:{}};return t[e](r,r.exports,Dt),r.exports}Dt.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return Dt.d(r,{a:r}),r},Dt.d=function(e,r){for(var t in r)Dt.o(r,t)&&!Dt.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},Dt.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},function(){"use strict";var N=React,O=Dt.n(N),e=ReactDOM,d=CoreUtilities,R=ReactDOMServer,r=PropTypes,t=Dt.n(r),A=RobloxItemPurchase,L=ReactStyleGuide,n=ReactUtilities,E=window.EventTracker?EventTracker:{fireEvent:console.log,start:console.log,endSuccess:console.log,endCancel:console.log,endFailure:console.log},f=RobloxThumbnails,y=Roblox,a={common:["CommonUI.Controls"],feature:"Feature.ServerList"},i={common:[],feature:"Feature.PrivateServers"},o={common:[],feature:"Purchasing.PurchaseDialog"},s={common:[],feature:"Feature.VIPServer"},c=5,l=15,u=50,v=4,m={friend:{key:"friends",value:"Friend"},public:{key:"public",value:"Public"},Vip:{key:"private",value:"VIP"}},p={descending:"Desc",ascending:"Asc"},C={sortOrder:"Desc",excludeFullGames:!1},g={ascending:"Action.Ascending",buyNowText:"Action.BuyNow",cancelAction:"Action.Cancel",cancelPrivateServerText:"Action.CancelPrivateServer",cancelServerText:"Message.CancelServerConfirmation",cancelText:"Label.Cancel",cantJoinPrivacySettingText:"Label.NoOneCanJoinServerDueToPrivacySettings",configureServerText:"Action.ConfigureServer",confirmCancelText:"Action.ConfirmCancel",confirmEnableFuturePaymentsText:"Label.ConfirmEnableFuturePayments",createPrivateServerPriceText:"Label.CreatePrivateServerFor",createPrivateServerText:"Action.CreatePrivateServer",createPrivateServerTitle:"Action.CreatePrivateServer",createServerFooterDescription:"Description.RecurringSubscriptionRenewal",createServerFooterText:"Label.FooterText",descending:"Action.Descending",doNotCancelText:"Action.DoNotCancel",freeGameText:"Label.Free",friendInServerLabel:"Label.FriendInServer",friendsServersTitle:"Heading.ServersMyFriendsAreIn",gameNameText:"Label.GameName",hideFullServers:"Label.ExcludeFullServers",inactiveServerText:"Label.Inactive",insufficientFunds:"Label.InsufficientFunds",joinServerText:"Label.ServerListJoin",loadMoreButtonText:"Action.LoadMore",loadServersError:"Message.LoadServersFailure",manyFriendsInServerLabel:"Label.ManyFriendsInThisServer",maxFreePrivateServersText:"Description.MaxFreePrivateServers",noServersFoundText:"Label.NoServersFound",numberOfPlayers:"Label.NumberOfPlayers",perMonthText:"Label.PerMonth",playerCountText:"Label.CurrentPlayerCount",privacySettingsText:"Label.PrivacySettings",privateServerHeader:"Heading.PrivateServers",privateServerLabel:"Label.PrivateServer",privateServerPlayWithOthers:"Label.PlayWithOthers",privateServerPrice:"Label.Price",privateServerRefreshText:"Action.Refresh",privateServersNotSupported:"Label.VipServersNotSupported",privateServerTooltip:"Label.PrivateServersAbout",publicServersTitle:"Heading.OtherServers",purchaseError:"Message.InternalErrorPurchaseError",renewalCanceledText:"Label.RenewalCanceled",renewPrivateServerTitle:"Label.RenewPrivateServer",renewServerListText:"Label.Renew",renewsMonthlyText:"Label.RenewsMonthlyCancelAnytime",renewSubscriptionError:"Message.RenewSubscriptionError",renewSubscriptionSuccess:"Message.RenewSubscriptionSuccess",seeAllPrivateServersText:"Label.SeeAllPrivateServers",serverCancellationSuccess:"Message.ServerCancellationSuccess",serverNameText:"Label.ServerName",serversText:"Label.Servers",serverIdText:"Label.ServerId",shutdownServerError:"Message.ShutdownServerError",shutdownServerSuccess:"Message.ShutdownServerSuccess",shutdownServerText:"Label.ShutDownServer",slowGameWarning:"Label.SlowGame",startRenewingPrivateServerPrice:"Label.StartRenewingPrivateServerPrice",subscribeText:"Action.Subscribe",transactionFailedHeading:"Heading.TransactionFailed",twoFriendsInServerLabel:"Label.TwoFriendsInServer"},b=y.EnvironmentUrls.gamesApi,h=y.EnvironmentUrls.apiGatewayUrl,S=y.EnvironmentUrls.matchmakingApi,I=function(e){return d.urlService.getAbsoluteUrl("/users/".concat(e,"/profile"))},w=function(e){return d.urlService.getUrlWithQueries("/private-server/configure",{privateServerId:e})},D=function(e){return d.urlService.getUrlWithLocale("/info/vip-server",e)},T=function(){return d.urlService.getAbsoluteUrl("/my/account#!/privacy")};function P(r,e){var t,n=Object.keys(r);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(r),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),n.push.apply(n,t)),n}function x(n){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?P(Object(a),!0).forEach(function(e){var r,t;r=n,e=a[t=e],t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))})}return n}var k=m,F=function(e,r){return d.urlService.getAbsoluteUrl("".concat(b,"/v1/games/").concat(e,"/servers/").concat(r))},j=function(e){return d.urlService.getAbsoluteUrl("".concat(b,"/v1/games/").concat(e,"/private-servers"))},M=function(){return d.urlService.getAbsoluteUrl("".concat(S,"/v1/game-instances/shutdown"))},q=function(e){return"".concat(b,"/v1/vip-servers/").concat(e)},G=function(e){return"".concat(b,"/v1/games/vip-servers/").concat(e)},B=function(e){return"".concat(b,"/v1/games/vip-servers/").concat(e)},U=function(e){return"".concat(b,"/v1/vip-servers/").concat(e,"/subscription")},V=function(){return"".concat(h,"/user-settings-api/v1/user-settings")},_=function(){return"".concat(h,"/universal-app-configuration/v1/behaviors/account-settings-ui/content")},H={getPublicGameInstances:function(e,r,t){t=2<arguments.length&&void 0!==t?t:{},e={url:F(e,k.public.value),retryable:!0,withCredentials:!0},t=x({cursor:r},t);return d.httpService.get(e,t)},getFriendsGameInstances:function(e,r,t){t=2<arguments.length&&void 0!==t?t:{},e={url:F(e,k.friend.value),retryable:!1,withCredentials:!0},t=x({cursor:r},t);return d.httpService.get(e,t)},getVipGameInstances:function(e,r,t){t=2<arguments.length&&void 0!==t?t:{},e={url:j(e),retryable:!1,withCredentials:!0},t=x({cursor:r},t);return d.httpService.get(e,t)},shutdownGameInstance:function(e,r,t){var n=null===(a=document.getElementsByName("__RequestVerificationToken")[0])||void 0===a?void 0:a.value,a={url:M(),retryable:!0,withCredentials:!0},r={__RequestVerificationToken:n,placeId:e,gameId:r};return t&&(r.privateServerId=t),d.httpService.post(a,r)},createPrivateServer:function(e,r,t){e={url:B(e),retryable:!0,withCredentials:!0},t={name:r,expectedPrice:t};return d.httpService.post(e,t)},getVipServer:function(e){e={url:q(e),retryable:!0,withCredentials:!0};return d.httpService.get(e)},createVipServer:function(e,r,t){e={url:G(e),retryable:!0,withCredentials:!0};return d.httpService.post(e,{name:r,expectedPrice:t})},updateVipServerSubscription:function(e,r,t){e={url:U(e),retryable:!0,withCredentials:!0};return d.httpService.patch(e,{active:r,price:t})},getUserSettings:function(){var e={retryable:!0,withCredentials:!0,url:V()};return d.httpService.get(e).then(function(e){return e.data},function(e){return null})},getAccountSettingsGuacPolicy:function(){var e={retryable:!0,withCredentials:!0,url:_()};return d.httpService.get(e).then(function(e){return e.data},function(e){return null})}};function W(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(t.push(o.value),!r||t.length!==r);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return t}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return z(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return z(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function J(e){void 0===e&&(e={baseUrl:""}),this.configuration=e,this.baseUrl=this.configuration.baseUrl}var $=(te=W((0,L.createModal)(),2))[0],K=te[1],Q=g,X=u,Y=function(){var e=document.getElementById("game-detail-meta-data");return e?{gameDetailUniverseId:parseInt(e.getAttribute("data-universe-id"),10),gameDetailPlaceName:e.getAttribute("data-place-name"),gameDetailPlaceId:parseInt(e.getAttribute("data-place-id"),10),gameDetailPageId:e.getAttribute("data-page-id"),gameDetailGameInstanceId:e.getAttribute("data-game-instance-id"),gameDetailShowShutdownAllButton:"True"===e.getAttribute("data-show-shut-down-all-button"),gameDetailUserCanManagePlace:"True"===e.getAttribute("data-user-can-manage-place"),gameDetailPrivateServerPrice:parseInt(e.getAttribute("data-private-server-price"),10),gameDetailCanCreateServer:"True"===e.getAttribute("data-can-create-server"),gameDetailPrivateServerLimit:parseInt(e.getAttribute("data-private-server-limit"),10)||0,gameDetailSellerName:e.getAttribute("data-seller-name"),gameDetailSellerId:parseInt(e.getAttribute("data-seller-id"),10),gameDetailPrivateServerProductId:parseInt(e.getAttribute("data-private-server-product-id"),10),gameDetailPreopenCreatePrivateServerModal:"True"===e.getAttribute("data-preopen-create-private-server-modal"),gameDetailExperienceInviteLinkId:e.getAttribute("data-experience-invite-link-id"),gameDetailExperienceInviteStatus:e.getAttribute("data-experience-invite-status")}:null},r=(Z.prototype.sendEvent=function(e){var r=e.localTime,t=e.target,n=e.eventType,a=e.context,i=e.additionalProperties,o=e.currentUrl,s=e.guestId,e=e.sessionId,r=r.toISOString(),c=new URL("".concat(this.baseUrl,"/pe"));return c.searchParams.append("t",t),c.searchParams.append("evt",n),c.searchParams.append("ctx",a),c.searchParams.append("lt",r),c.searchParams.append("url",o||window.location.href),void 0!==s&&c.searchParams.append("gid",s),void 0!==e&&c.searchParams.append("sid",e),void 0!==i&&Object.keys(i).forEach(function(e){c.searchParams.append(e,(null!==(e=i[e])&&void 0!==e?e:"").toString())}),fetch(c.href,{credentials:"same-origin"})},Z.prototype.sendEventViaImg=function(e,r){var t=e.localTime,n=e.target,a=e.eventType,i=e.context,o=e.additionalProperties,s=e.currentUrl,c=e.guestId,e=e.sessionId,t=t.toISOString(),l=new URL("".concat(this.baseUrl,"/e.png"));l.searchParams.append("t",n),l.searchParams.append("evt",a),l.searchParams.append("ctx",i),l.searchParams.append("lt",t),l.searchParams.append("url",s||window.location.href),void 0!==c&&l.searchParams.append("gid",c),void 0!==e&&l.searchParams.append("sid",e),void 0!==o&&Object.keys(o).forEach(function(e){l.searchParams.append(e,(null!==(e=o[e])&&void 0!==e?e:"").toString())});e=new Image;return e.src=l.href,e.onload=function(){void 0!==r&&r(!0)},e.onerror=function(e){void 0!==r&&r(!1),console.error(e)},e},Z);function Z(e){void 0===e&&(e=new J),this.configuration=e,this.baseUrl=e.baseUrl}var ee,re,te=y.EnvironmentUrls.domain;(u=ee=ee||{}).PRIVATE_SERVER_JOIN="privateServerJoin",u.PRIVATE_SERVER_LOAD="privateServerLoad",(re=re||{}).GAME_TAB="gameTab";var ne=new r(new J({baseUrl:"https://ecsv2."+te+"/www"})),ae={sendEvent:function(e,r,t){t={target:"www",localTime:new Date,eventType:e,context:r,additionalProperties:{latency:t}};return ne.sendEventViaImg(t)}};function ie(){return(ie=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t,n=arguments[r];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}function oe(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(t.push(o.value),!r||t.length!==r);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return t}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return se(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return se(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var ce=g,te=(r=oe((le.defaultProps={serverName:"",createServerError:!1,loading:!1},le.propTypes={translate:t().func.isRequired,privateServerTranslate:t().func.isRequired,thumbnail:t().node.isRequired,assetName:t().string.isRequired,expectedPrice:t().number.isRequired,serverName:t().string,onAction:t().func.isRequired,onServerNameChange:t().func.isRequired,createServerError:t().bool,loading:t().bool,clearForm:t().func.isRequired},[(0,n.withTranslations)(le,o),K]),2))[0],r=r[1];function le(e){var r=e.translate,t=e.privateServerTranslate,n=e.assetName,a=e.expectedPrice,i=e.thumbnail,o=e.serverName,s=e.onAction,c=e.onServerNameChange,l=e.clearForm,u=e.loading,d=t(Q.perMonthText)||"/month",v=(0,N.useMemo)(function(){return 0!==a?r(Q.subscribeText)||"Subscribe":r(Q.buyNowText)},[a,r]),m=O().createElement("span",{className:"purchase-private-server-modal-footer-text"},O().createElement(A.BalanceAfterSaleText,{expectedPrice:a})," ",t(Q.createServerFooterDescription)||"This is a subscription-based feature. It will auto-renew once a month until you cancel the subscription."),p=W((0,N.useState)(!1),2),f=p[0],g=p[1],b=W((0,N.useState)(!1),2),e=b[0],h=b[1],p=W((0,N.useState)(!1),2),b=p[0],S=p[1],p="<a id='redirect-link' href=".concat(T(),">").concat(t(Q.privacySettingsText),"</a>");(0,N.useEffect)(function(){y.CurrentUser.isUnder13&&H.getUserSettings().then(function(e){e&&h("NoOne"===(null==e?void 0:e.privateServerPrivacy))},function(){})},[]),(0,N.useEffect)(function(){H.getAccountSettingsGuacPolicy().then(function(e){e&&S(null==e?void 0:e.isPrivateServerPrivacyV2Enabled)},function(){})},[]);p=O().createElement("div",{className:"private-server-purchase"},O().createElement("div",{className:"modal-list-item private-server-main-text",dangerouslySetInnerHTML:{__html:t(Q.createPrivateServerPriceText,{target:"".concat((0,R.renderToString)(O().createElement(A.PriceLabel,{price:a}))).concat(0!==a?d:"")})}}),O().createElement("div",{className:"modal-list-item"},O().createElement("span",{className:"text-label private-server-game-name"},t(Q.gameNameText)),O().createElement("span",{className:"game-name"},n)),O().createElement("div",{className:"modal-list-item private-server-name-input"},O().createElement("span",{className:"text-label"},t(Q.serverNameText)),O().createElement("div",{className:"form-group form-has-feedback"},O().createElement("input",{type:"text",value:o,onChange:c,maxLength:X,className:"form-control input-field private-server-name",id:"private-server-name-text-box"}),0<o.length&&O().createElement("p",{className:"form-control-label text-secondary"},o.length,"/",X))),O().createElement("div",{className:"modal-image-container"},i),0!==a&&O().createElement("p",{className:"rbx-private-server-renewal-disclosure"},t(Q.renewsMonthlyText)||"Renews monthly. Cancel anytime."),b&&e&&O().createElement("div",null,O().createElement("br",null),O().createElement("div",{className:"private-settings-disclaimer"},O().createElement("span",{className:"private-settings-disclaimer-checkbox"},O().createElement("input",{id:"privacy-settings-disclaimer-checkbox",type:"checkbox",checked:f,onClick:function(){return g(!f)}})),O().createElement("b",null,O().createElement("span",{className:"private-servers-disclaimer-text",dangerouslySetInnerHTML:{__html:t(Q.cantJoinPrivacySettingText,{privacySettingsLink:p})}})))));return O().createElement($,{id:"purchase-private-server-modal",title:t(Q.createPrivateServerTitle),body:p,actionButtonText:v,neutralButtonText:r(Q.cancelAction),footerText:m,onAction:s,onNeutral:l,loading:u,actionButtonShow:!0,disableActionButton:0===o.length||e&&b&&!f})}var ue=(te=oe((0,A.createItemPurchase)({customPurchaseVerificationModal:te,customPurchaseVerificationModalService:r}),2))[0],de=te[1],ve=Y;function me(e){var r=e.canCreatePrivateServer,t=e.currency,n=e.placeName,i=e.price,a=e.privateServerTranslate,o=e.productId,s=e.refreshServers,c=e.sellerId,l=e.sellerName,u=e.translate,d=e.universeId,e=oe((0,N.useState)(""),2),v=e[0],m=e[1];ve().gameDetailPreopenCreatePrivateServerModal&&de.start();function p(){return m(""),!0}e=O().createElement(f.Thumbnail2d,{containerClass:"modal-thumb",format:f.ThumbnailFormat.jpeg,imgClassName:"original-image",size:f.DefaultThumbnailSize,targetId:d,type:f.ThumbnailTypes.gameIcon});return O().createElement("span",{className:"rbx-private-server-create"},O().createElement(L.Button,{className:"btn-more rbx-private-server-create-button",isDisabled:!r,onClick:de.start,size:L.Button.sizes.medium,variant:L.Button.variants.secondary},a(ce.createPrivateServerTitle)),O().createElement(ue,ie({assetName:n,assetType:A.ASSET_TYPE_ENUM.PRIVATE_SERVER,customProps:{privateServerTranslate:a,serverName:v,onServerNameChange:function(e){e=e.target.value;return m(e)},clearForm:p},expectedCurrency:t,expectedPrice:i,expectedSellerId:c,handlePurchase:function(e){var r=e.handleError,t=e.setLoading,n=e.openConfirmation,a=e.closeAll;t(!0),H.createPrivateServer(d,v,i).then(function(e){e=e.data;t(!1),a();var r=e.vipServerId;n({transactionVerb:A.TransactionVerb.Bought,onAccept:function(){window.location.href=w(r)},onDecline:function(){return(0,E.start)(ee.PRIVATE_SERVER_LOAD),s({startTime:performance.now()}),p(),!0}})},function(e){var e=e.data;t(!1),a();e=null!==(e=null===(e=e.errors)||void 0===e?void 0:e[0].userFacingMessage)&&void 0!==e?e:u(ce.purchaseError);r({errorMsg:e,onDecline:function(){return(0,E.start)(ee.PRIVATE_SERVER_LOAD),s({startTime:performance.now()}),!0},showDivId:A.errorTypeIds.transactionFailure,title:u(ce.transactionFailedHeading)})})},productId:o,sellerName:l,thumbnail:e},{isPrivateServer:!0})),!r&&O().createElement("span",{className:"text-footer rbx-private-server-create-disabled-text"},u(ce.maxFreePrivateServersText)))}me.defaultProps={canCreatePrivateServer:!0,currency:1},me.propTypes={canCreatePrivateServer:t().bool,currency:t().number,placeName:t().string.isRequired,price:t().number.isRequired,privateServerTranslate:t().func.isRequired,productId:t().number.isRequired,refreshServers:t().func.isRequired,sellerId:t().number.isRequired,sellerName:t().string.isRequired,translate:t().func.isRequired,universeId:t().number.isRequired};var pe,fe=(0,n.withTranslations)(me,s),r=Dt(9870),ge=Dt.n(r),be=HeaderScripts,he="robloxAttributionIds";function Se(e){var r=window,t=r[he];return t||(t={},r[he]=t),(r=t[e])||(r=d.uuidService.generateRandomUuid(),t[e]=r),r}(pe=pe||{}).GameDetailReferral="gameDetailReferral";var ye,Ie,we=Se,K=CoreRobloxUtilities;function Ee(t){return Object.keys(t).reduce(function(e,r){return"object"==typeof t[r]&&t[r]&&(e[r]=JSON.stringify(t[r])),"number"==typeof t[r]&&(e[r]=t[r]),"string"==typeof t[r]&&(e[r]=encodeURIComponent(t[r])),"boolean"==typeof t[r]&&(e[r]=t[r]?1:0),e},{})}(te={}).Game="Game",te.CatalogAsset="CatalogAsset",te.CatalogBundle="CatalogBundle",(s=ye=ye||{}).Carousel="Carousel",s.AvatarCarousel="AvatarCarousel",s.SortlessGrid="SortlessGrid",s.FriendCarousel="FriendCarousel",s.InterestGrid="InterestGrid",s.Pills="Pills",s.Sdui="sdui",(r={}).Sponsored="Sponsored",r.SponsoredGame="SponsoredGame",(te=Ie=Ie||{}).AppGameTileNoMetadata="AppGameTileNoMetadata",te.GridTile="GridTile",te.EventTile="EventTile",te.InterestTile="InterestTile",te.ExperienceEventsTile="ExperienceEventsTile",(s={}).Always="Always",s.Hover="Hover",s.Footer="Footer",(r={}).Disabled="Disabled",r.Enabled="Enabled";var Te,te=(new y.Intl).getDateTimeFormatter(),s=d.urlService.parseQueryString,r=d.numberFormat.getNumberFormat;function Pe(){return document.referrer}(te=Te=Te||{}).SearchPage="searchPage",te.SortDetailPageDiscover="sortDetailPageDiscover",te.SortDetailPageHome="sortDetailPageHome",te.GameDetailPage="gameDetailPage",te.GamesPage="gamesPage",te.HomePage="homePage",te.PeopleListInHomePage="peopleListInHomePage",te.InterestCatcher="interestCatcher",te.SearchLandingPage="searchLandingPage";var xe,Re,Ae=function(){return(Ae=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var a in r=arguments[t])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e}).apply(this,arguments)},Ce=function(e,r){var t={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)r.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(t[a[n]]=e[a[n]]);return t},Ne=(s=K.eventStreamService.eventTypes).pageLoad,Oe=s.formInteraction;function Le(r,e){var t,n=Object.keys(r);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(r),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),n.push.apply(n,t)),n}function De(n){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Le(Object(a),!0).forEach(function(e){var r,t;r=n,e=a[t=e],t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):Le(Object(a)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))})}return n}function ke(){var e=/\/games\/(\d+)\//g.exec(window.location.pathname);return e?+e[1]:null}function Fe(e,r,t){var n=r.instanceId,a=r.accessCode,i=performance.now();function o(){y.EventStream.SendEventWithTarget("playGameClicked",c,De({attributionId:we(Re.GameDetailReferral)},l),y.EventStream.TargetTypes.WWW)}(0,E.start)(ee.PRIVATE_SERVER_JOIN);var s=y.GameLauncher.isJoinAttemptIdEnabled()?d.uuidService.generateRandomUuid():void 0,r=Me().gameDetailUniverseId,c="".concat(t,"ServerListJoin"),l={universeId:r,placeId:e,pid:e,joinAttemptId:s};if("computer"===qe&&!Ge&&!Ue||"tablet"===qe&&je||Ge)return function(){if(o(),y.EventStream.SendEventWithTarget("gamePlayIntent",c,De({lType:"protocol",refuid:null,pg:"gameDetail"},l),y.EventStream.TargetTypes.WWW),a)return ae.sendEvent(ee.PRIVATE_SERVER_JOIN,re.GAME_TAB,performance.now()-i),(0,E.endSuccess)(ee.PRIVATE_SERVER_JOIN),void y.GameLauncher.joinPrivateGame(e,a,void 0,s,y.GameLauncher.isJoinAttemptIdEnabled()?c:void 0);n&&(ae.sendEvent(ee.PRIVATE_SERVER_JOIN,re.GAME_TAB,performance.now()-i),(0,E.endSuccess)(ee.PRIVATE_SERVER_JOIN),y.GameLauncher.joinGameInstance(e,n,!1,!1,s,y.GameLauncher.isJoinAttemptIdEnabled()?c:void 0))};var u="",u=Be?d.urlService.getUrlWithQueries("/games/start",{placeId:e}):"robloxmobile://placeID=".concat(e);return n&&(u+="&gameInstanceId=".concat(n)),a&&(u+="&accessCode=".concat(a)),y.GameLauncher.isJoinAttemptIdEnabled()&&s&&(u+="&joinAttemptId=".concat(s,"&joinAttemptOrigin=").concat(c)),function(){o(),window.location.href=u}}(te=xe=xe||{}).AbsPositions="absPositions",te.AdsPositions="adsPositions",te.AdFlags="adFlags",te.Algorithm="algorithm",te.AppliedFilters="appliedFilters",te.AttributionId="attributionId",te.ComponentType="componentType",te.Direction="direction",te.Distance="distance",te.HttpReferrer="httpReferrer",te.EmphasisFlag="emphasisFlag",te.FilterId="filterId",te.FilterIds="filterIds",te.GameSetTargetId="gameSetTargetId",te.GameSetTypeId="gameSetTypeId",te.InteractionType="interactionType",te.IsAd="isAd",te.NativeAdData="nativeAdData",te.AdIds="adIds",te.NumberOfLoadedTiles="numberOfLoadedTiles",te.Page="page",te.PageSession="pageSession",te.PlaceId="placeId",te.PlayContext="playContext",te.Position="position",te.PreviousOptionId="previousOptionId",te.PromptId="promptId",te.PromptText="promptText",te.ResourceId="resourceId",te.ResponseOptionIds="responseOptionIds",te.ResponseOptionTexts="responseOptionTexts",te.RootPlaceIds="rootPlaceIds",te.SelectedIds="selectedIds",te.SelectedTexts="selectedTexts",te.ScreenSizeX="screenSizeX",te.ScreenSizeY="screenSizeY",te.ScrollAreaSize="scrollAreaSize",te.ScrollDepth="scrollDepth",te.SelectedOptionId="selectedOptionId",te.SelectedOptionIds="selectedOptionIds",te.ShareLinkType="shareLinkType",te.ShareLinkId="shareLinkId",te.SortId="sortId",te.SortPos="sortPos",te.StartDepth="startDepth",te.StartPos="startPos",te.SuggestionKwd="suggestionKwd",te.SuggestionReplacedKwd="suggestionReplacedKwd",te.SuggestionCorrectedKwd="suggestionCorrectedKwd",te.SuggestionAlgorithm="suggestionAlgorithm",te.TimeToRespond="timeToRespond",te.Token="token",te.Topics="topics",te.TreatmentType="treatmentType",te.UniverseId="universeId",te.UniverseIds="universeIds",te.FriendId="friendId",te.ThumbnailAssetIds="thumbnailAssetIds",te.ThumbnailListIds="thumbnailListIds",te.LinkPath="linkPath",te.LocationName="locationName",te.RowsOnPage="rowsOnPage",te.PositionsInRow="positionsInRow",te.NavigationUids="navigationUids",te.TileBadgeContexts="tileBadgeContexts",te.ButtonName="buttonName",te.IsInterested="isInterested",te.InterestedUniverseIds="interestedUniverseIds",(s=Re=Re||{}).GameImpressions="gameImpressions",s.GameDetailReferral="gameDetailReferral",s.SortDetailReferral="sortDetailReferral",s.FeedScroll="feedScroll",s.NavigateToSortLink="navigateToSortLink",s.SurveyInteraction="surveyInteraction",s.SurveyImpression="surveyImpression",s.InterestCatcherClick="interestCatcherClick",s.FilterImpressions="filterImpressions",s.GamesFilterClick="gamesFilterClick",s.RequestRefundClick="requestRefundClick",(te={}).HomePageSessionInfo="homePageSessionInfo",te.GameSearchSessionInfo="gameSearchSessionInfo",te.DiscoverPageSessionInfo="discoverPageSessionInfo",te.SearchLandingPageSessionInfo="searchLandingPageSessionInfo",(s={}).Submission="submission",s.Cancellation="cancellation",(te={}).Horizontal="horizontal",te.Vertical="vertical",(s={}).Skip="skip",s.Continue="continue",s.Interested="interested",(te={}).OpenDropdown="openDropdown",te.CloseDropdown="closeDropdown",te.Apply="apply",(s={})[Re.GameImpressions]=function(e){e=Ce(e,[]);return[{name:Re.GameImpressions,type:Re.GameImpressions,context:Oe},Ee(Ae({},e))]},s[Re.GameDetailReferral]=function(e){var r;return void 0===e&&(e={}),[{name:Re.GameDetailReferral,type:Re.GameDetailReferral,context:Ne},Ee(Ae(((r={})[xe.AttributionId]=Se(pe.GameDetailReferral),r[xe.HttpReferrer]=Pe(),r),e))]},s[Re.SortDetailReferral]=function(e){return void 0===e&&(e={}),[{name:Re.SortDetailReferral,type:Re.SortDetailReferral,context:Ne},Ee(Ae({},e))]},s[Re.NavigateToSortLink]=function(e){return void 0===e&&(e={}),[{name:Re.NavigateToSortLink,type:Re.NavigateToSortLink,context:Oe},Ee(Ae({},e))]},s[Re.SurveyInteraction]=function(e){return void 0===e&&(e={}),[{name:Re.SurveyInteraction,type:Re.SurveyInteraction,context:Oe},Ee(Ae({},e))]},s[Re.SurveyImpression]=function(e){return void 0===e&&(e={}),[{name:Re.SurveyImpression,type:Re.SurveyImpression,context:Oe},Ee(Ae({},e))]},s[Re.InterestCatcherClick]=function(e){return void 0===e&&(e={}),[{name:Re.InterestCatcherClick,type:Re.InterestCatcherClick,context:Oe},Ee(Ae({},e))]},s[Re.FilterImpressions]=function(e){return void 0===e&&(e={}),[{name:Re.FilterImpressions,type:Re.FilterImpressions,context:Oe},Ee(Ae({},e))]},s[Re.GamesFilterClick]=function(e){return void 0===e&&(e={}),[{name:Re.GamesFilterClick,type:Re.GamesFilterClick,context:Oe},Ee(Ae({},e))]},s[Re.RequestRefundClick]=function(e){var r;return[{name:Re.RequestRefundClick,type:Re.RequestRefundClick,context:Oe},Ee(((r={})[xe.PlaceId]=e.placeId,r))]};var je=be.jsClientDeviceIdentifier.isIE11,Me=Y,qe=(te=(0,y.DeviceMeta)()).deviceType,Ge=te.isUWPApp,Be=te.isInApp,Ue=te.isChromeOs;function Ve(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(t.push(o.value),!r||t.length!==r);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return t}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return _e(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _e(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var He=g;function We(e){var r=e.translate,t=e.showModal,n=e.closeModal,a=e.expirationDate,i=e.cancelPrivateServer,o=e.systemFeedbackService,s=e.setSubscription,c=Ve((0,N.useState)(!1),2),e=c[0],l=c[1],c=O().createElement("p",null,r(He.cancelServerText,{date:a})),a=(0,N.useCallback)(function(){l(!0),i().then(function(e){e=e.data;s(e),o.success(r(He.serverCancellationSuccess)||"Server renewal successfully canceled")}).catch(function(e){var r=e.data;0<(null===(e=r.errors)||void 0===e?void 0:e.length)&&(e=r.errors[0],o.warning(null!==(r=e.userFacingMessage)&&void 0!==r?r:e.message))}).finally(function(){l(!1),n(!0)})},[i,n,s,o,r]);return O().createElement(L.SimpleModal,{show:t,title:r(He.cancelPrivateServerText),body:c,actionButtonText:r(He.confirmCancelText),neutralButtonText:r(He.doNotCancelText),onAction:a,onClose:n,onNeutral:n,actionButtonShow:!0,loading:e})}We.propTypes={translate:t().func.isRequired,showModal:t().bool.isRequired,closeModal:t().func.isRequired,expirationDate:t().string.isRequired,cancelPrivateServer:t().func.isRequired,systemFeedbackService:t().shape({success:t().func.isRequired,warning:t().func.isRequired}).isRequired,setSubscription:t().func.isRequired};var ze=(0,n.withTranslations)(We,i);function Je(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(t.push(o.value),!r||t.length!==r);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return t}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return $e(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $e(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var Ke=g,Qe=w;function Xe(e){var r=e.className,t=e.translate,n=e.gameId,a=e.vipServerId,i=e.isOwner,o=e.canManagePlace,s=e.shutdownServer,c=e.subscription,l=e.setSubscription,u=e.isLoading,d=e.systemFeedbackService,v=Je((0,N.useState)(!1),2),e=v[0],m=v[1],v=0<a,i=v&&i,v=null!==n&&(!v&&o||i),o=i&&c.active;return i||v?O().createElement("div",{className:r},O().createElement(L.Popover,{id:"game-instance-dropdown-menu",button:O().createElement(L.IconButton,{iconName:"more",size:L.IconButton.sizes.small,isDisabled:u}),trigger:"click",placement:"bottom"},O().createElement("ul",{className:"dropdown-menu",role:"menu"},i&&O().createElement("li",null,O().createElement(L.Link,{url:Qe(a),className:"rbx-private-server-configure"},t(Ke.configureServerText))),v&&O().createElement("li",null,O().createElement("button",{type:"button",onClick:s,className:"rbx-private-server-shutdown rbx-private-server-shutdown"},t(Ke.shutdownServerText))),o&&O().createElement("li",null,O().createElement(L.Button,{className:"rbx-private-server-cancel",onClick:function(){return m(!0)},size:L.Button.sizes.default,width:L.Button.widths.full,variant:L.Button.variants.default,isDisabled:u},t(Ke.cancelText))))),o&&O().createElement(ze,{translate:t,showModal:e,closeModal:function(){return m(!1)},expirationDate:new Date(c.expirationDate).toLocaleString("default",{month:"long",day:"numeric",year:"numeric"}),cancelPrivateServer:function(){return H.updateVipServerSubscription(a,!1,c.price)},systemFeedbackService:d,setSubscription:l})):O().createElement(N.Fragment,null)}Xe.defaultProps={className:"",gameId:null,vipServerId:0,isOwner:!1,canManagePlace:!1,subscription:{}},Xe.propTypes={className:t().string,translate:t().func.isRequired,gameId:t().string,vipServerId:t().number,isOwner:t().bool,canManagePlace:t().bool,shutdownServer:t().func.isRequired,subscription:t().shape({active:t().bool,expired:t().bool,expirationDate:t().string,price:t().number,canRenew:t().bool,hasInsufficientFunds:t().bool,hasRecurringProfile:t().bool,hasPriceChanged:t().bool}),setSubscription:t().func.isRequired,isLoading:t().bool.isRequired,systemFeedbackService:t().shape({success:t().func.isRequired,warning:t().func.isRequired}).isRequired};var Ye=Xe;function Ze(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(t.push(o.value),!r||t.length!==r);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return t}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return er(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return er(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var rr=g;function tr(e){var r=e.translate,t=e.placeName,n=e.creatorName,a=e.price,i=e.renewPrivateServer,o=e.isLoading,s=Ze((0,N.useState)(!1),2),c=s[0],l=s[1],e=Ze((0,N.useState)(!1),2),s=e[0],u=e[1],n=O().createElement(N.Fragment,null,O().createElement("p",{className:"renew-server-modal-body-text"},r(rr.confirmEnableFuturePaymentsText,{placeName:t,creatorName:n})),O().createElement("p",{className:"renew-server-modal-body-text",dangerouslySetInnerHTML:{__html:r(rr.startRenewingPrivateServerPrice,{price:(0,R.renderToString)(O().createElement(A.PriceLabel,{price:a}))})}})),d=(0,N.useCallback)(function(){l(!1)},[]),a=(0,N.useCallback)(function(){d(),u(!0),i().finally(function(){u(!1)})},[i]);return O().createElement(N.Fragment,null,O().createElement(L.Button,{className:"rbx-private-server-renew",onClick:function(){return l(!0)},size:L.Button.sizes.extraSmall,width:L.Button.widths.full,variant:L.Button.variants.control,isDisabled:o||s},r(rr.renewServerListText)),O().createElement(L.SimpleModal,{show:c,title:r(rr.renewPrivateServerTitle),body:n,actionButtonText:r(rr.renewServerListText),neutralButtonText:r(rr.cancelText),onAction:a,onClose:d,onNeutral:d,actionButtonShow:!0}))}tr.propTypes={translate:t().func.isRequired,placeName:t().string.isRequired,creatorName:t().string.isRequired,price:t().number.isRequired,renewPrivateServer:t().func.isRequired,isLoading:t().bool.isRequired};var nr=(0,n.withTranslations)(tr,i),ar=Y,ir=g;function or(e){var t=e.translate,r=e.privateServerId,n=e.isPaymentCancelled,a=e.isInsufficientFunds,i=e.isServerInactive,o=e.canRenew,s=e.setSubscription,c=e.isLoading,l=e.systemFeedbackService,u=ar(),d=u.gameDetailPlaceName,v=u.gameDetailPrivateServerPrice,e=u.gameDetailSellerName,u=(0,N.useCallback)(function(){return new Promise(function(e){H.updateVipServerSubscription(r,!0,v).then(function(e){e=e.data;s(e),l.success(t(ir.renewSubscriptionSuccess)||"Successfully renewed private server")},function(e){var r=e.data;0<(null===(e=r.errors)||void 0===e?void 0:e.length)?(e=r.errors[0],l.warning(null!==(r=e.userFacingMessage)&&void 0!==r?r:e.message)):l.warning(t(ir.renewSubscriptionError)||"Unable to renew subscription.")}).finally(function(){e()})})},[r,v,s,t,l]);return O().createElement(N.Fragment,null,n&&O().createElement("div",{className:"rbx-private-server-subscription-alert text-alert"},O().createElement("span",{className:"rbx-private-server-subscription-alert-text"},t(ir.renewalCanceledText)||"Renewal Canceled")),a&&O().createElement("div",{className:"rbx-private-server-insufficient-funds text-alert"},O().createElement("span",{className:"icon-remove"}),t(ir.insufficientFunds)),i&&O().createElement("div",{className:"rbx-private-server-inactive"},O().createElement("span",{className:"icon-turn-off"}),t(ir.inactiveServerText)),o&&O().createElement(nr,{placeName:d,creatorName:e,price:v,renewPrivateServer:u,isLoading:c}))}or.propTypes={translate:t().func.isRequired,privateServerId:t().number.isRequired,isPaymentCancelled:t().bool.isRequired,isInsufficientFunds:t().bool.isRequired,isServerInactive:t().bool.isRequired,canRenew:t().bool.isRequired,setSubscription:t().func.isRequired,isLoading:t().bool.isRequired,systemFeedbackService:t().shape({success:t().func.isRequired,warning:t().func.isRequired}).isRequired};var sr=(0,n.withTranslations)(or,a),cr=RobloxBadges,lr=I;function ur(e){var r=e.ownerUserId,t=e.ownerName,e=e.ownerHasVerifiedBadge;return O().createElement("div",{className:"rbx-private-owner"},O().createElement(L.Link,{title:t,url:lr(r),className:"avatar avatar-card-fullbody owner-avatar"},O().createElement(f.Thumbnail2d,{type:f.ThumbnailTypes.avatarHeadshot,size:f.DefaultThumbnailSize,targetId:r,containerClass:"avatar-card-image"})),O().createElement(L.Link,{url:lr(r),className:"text-name text-overflow"},O().createElement(cr.VerifiedBadgeStringContainer,{size:cr.BadgeSizes.CAPTIONHEADER,showVerifiedBadge:e,text:t})))}ur.propTypes={ownerUserId:t().number.isRequired,ownerName:t().string.isRequired,ownerHasVerifiedBadge:t().bool.isRequired};var dr=ur,vr=I,mr=g;function pr(e){function n(e){return void 0===e?O().createElement(N.Fragment,null):O().createElement(L.Link,{href:vr(e.id),className:"text-name"},e.displayName)}var a=e.translate,r=e.players,i=(0,N.useMemo)(function(){return r.filter(function(e){return null!==e.id&&e.id!==be.authenticatedUser.id})},[r]),e=(0,N.useMemo)(function(){if(0===i.length)return"";var e=(0,R.renderToString)(n(i[0]));if(1===i.length)return a(mr.friendInServerLabel,{friend:e})||"Friends in this server: ".concat(e);var r=(0,R.renderToString)(n(i[1]));if(2===i.length)return a(mr.twoFriendsInServerLabel,{firstFriend:e,secondFriend:r})||"Friends in this server: ".concat(e," and ").concat(r);var t=i.length-2;return"Friends in this server: ".concat(e,", ").concat(r,", and ").concat(t," ").concat(1==t?"other":"others")},[i,a]);return 0===i.length?O().createElement(N.Fragment,null):O().createElement("div",{className:"text friends-in-server-label",dangerouslySetInnerHTML:{__html:e}})}function fr(e){var r=e.children,t=(0,N.useState)(Pr),e=t[0],n=t[1];return(0,N.useEffect)(function(){wr(Er.serverTab,Tr.serverTab).then(function(e){n({disableJoinButtonForFullServers:!(null==e||!e.ShouldDisableJoinButtonForFullServers)})}).catch(function(e){console.error(e)})},[]),O().createElement(xr.Provider,{value:e},r)}pr.propTypes={translate:t().func.isRequired,players:t().arrayOf(t().any).isRequired};var gr=pr,br=y.EnvironmentUrls.apiGatewayUrl,hr={getExperimentationValues:function(e,r,t){return{url:br+"/product-experimentation-platform/v1/projects/"+e+"/layers/"+r+"/values?parameters="+t.join(","),withCredentials:!0}}},s={homePage:{},homePageWeb:{IsExpandHomeContentEnabled:!0,IsCarouselHorizontalScrollEnabled:!1,IsNewScrollArrowsEnabled:!1},serverTab:{ShouldDisableJoinButtonForFullServers:!1},gameDetails:{ShouldHidePrivateServersInAboutTab:!1,IsGameStorePreviewEnabled:!1},gameDetailsExposure:{IsEventsSectionUprankEnabled:!1,IsEventsSectionRedesignEnabled:!1},searchPage:{ShouldUseOmniSearchAPI:!1},discoverPage:{IsChartsPageRenameEnabled:!0},tileLayer:{},playButton:{}},te={homePage:"PlayerApp.HomePage.UX",homePageWeb:"Website.Homepage",serverTab:"GameDetails.ServersTab",gameDetails:"Website.GameDetails",gameDetailsExposure:"Website.GameDetails.Exposure",searchPage:"Website.SearchResultsPage",discoverPage:"Website.GamesPage",tileLayer:"Website.TileLayer",playButton:"Website.PlayButton"},Sr=(y.EnvironmentUrls.apiGatewayUrl,function(){return(Sr=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var a in r=arguments[t])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e}).apply(this,arguments)}),yr=function(e,o,s,c){return new(s=s||Promise)(function(t,r){function n(e){try{i(c.next(e))}catch(e){r(e)}}function a(e){try{i(c.throw(e))}catch(e){r(e)}}function i(e){var r;e.done?t(e.value):((r=e.value)instanceof s?r:new s(function(e){e(r)})).then(n,a)}i((c=c.apply(e,o||[])).next())})},Ir=function(t,n){var a,i,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:r(0),throw:r(1),return:r(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return function(r){if(a)throw new TypeError("Generator is already executing.");for(;s;)try{if(a=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=n.call(t,s)}catch(e){r=[6,e],i=0}finally{a=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,e])}}},wr=function(n,a,i){return void 0===i&&(i=1),yr(void 0,void 0,Promise,function(){var t,r;return Ir(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,d.httpService.get(hr.getExperimentationValues(i,n,Object.keys(a)))];case 1:return t=e.sent().data,r=Object.keys(t).reduce(function(e,r){return null!==t[r]&&(e[r]=t[r]),e},{}),[2,Sr(Sr({},a),r)];case 2:return e.sent(),[2,a];case 3:return[2]}})})},Er=te,Tr=s,Pr={disableJoinButtonForFullServers:!1},xr=(0,N.createContext)(Pr),Rr=xr;function Ar(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(t.push(o.value),!r||t.length!==r);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return t}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return Cr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Cr(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cr(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var Nr=I,Or=g,Lr=c,Dr=m;function kr(e){var r=e.maxPlayerCount,e=e.currentPlayerCount;if(!r)return O().createElement(N.Fragment,null);r=Math.round(e/r*100);return O().createElement("div",{className:"server-player-count-gauge border"},O().createElement("div",{className:"gauge-inner-bar border",style:{width:"".concat(r,"%")}}))}function Fr(e){e=e.player;return O().createElement("span",{key:e.playerToken,className:"avatar avatar-headshot-md player-avatar"},null==e.id?O().createElement(f.Thumbnail2d,{type:f.ThumbnailTypes.avatarHeadshot,token:e.playerToken,containerClass:"avatar-card-image"}):O().createElement(L.Link,{className:"avatar-card-link",href:Nr(e.id)},O().createElement(f.Thumbnail2d,{type:f.ThumbnailTypes.avatarHeadshot,targetId:e.id,containerClass:"avatar-card-image",altName:e.displayName})))}function jr(e){var r=e.id,t=e.translate,n=e.cssKey,a=e.serverListType,i=e.placeId,o=e.gameServerStatus,s=e.canManagePlace,c=e.name,l=e.vipServerId,u=e.vipServerSubscription,d=e.accessCode,v=e.showSlowGameMessage,m=e.owner,p=e.players,f=e.onShutdownServerSuccess,g=e.systemFeedbackService,b=e.isLoading,h=e.setIsLoading,S=e.maxPlayers,y=e.currentPlayersCount,I=Ar((0,N.useState)(u),2),w=I[0],E=I[1],T=(null==m?void 0:m.id)===be.authenticatedUser.id,P=!!l,x=P&&!d,R=(0,N.useContext)(Rr);(0,N.useEffect)(function(){E(u)},[u]);var A=Lr&&0<Lr?null==p?void 0:p.slice(0,Lr):p,C=0<l,e=C&&T,I=null!==r,C=e||I&&(!C&&s||e),e=0<y-A.length&&"+".concat(y-A.length),I=I?r.substring(9,18):"",I=t(Or.serverIdText,{serverId:I})||"ID: ".concat(I);return O().createElement("li",{className:"rbx-".concat(n,"game-server-item col-md-3 col-sm-4 col-xs-6")},O().createElement("div",{className:"card-item card-item-".concat(n,"server")},O().createElement("div",{className:"player-thumbnails-container"},A.map(function(e){return O().createElement(Fr,{key:e.playerToken,player:e})}),!!e&&O().createElement("span",{className:"avatar avatar-headshot-md player-avatar hidden-players-placeholder"},e)),O().createElement("div",{className:ge()("rbx-".concat(n,"game-server-details"),"game-server-details",{"border-right":a===Dr.Vip.key})},(!!c||!!C)&&O().createElement("div",{className:"section-header"},c&&O().createElement("span",{className:"font-bold"},c),O().createElement(Ye,{className:"link-menu rbx-".concat(n,"game-server-menu"),translate:t,placeId:i,gameId:r,vipServerId:l,isOwner:T,canManagePlace:s,shutdownServer:function(){b&&g.warning(t(Or.shutdownServerError)),h(!0),H.shutdownGameInstance(i,r,l).then(function(){g.success(t(Or.shutdownServerSuccess)),f()},function(){g.warning(t(Or.shutdownServerError))}).finally(function(){h(!1)})},subscription:w,setSubscription:E,isLoading:b,systemFeedbackService:g})),P&&O().createElement(dr,{ownerUserId:m.id,ownerName:m.displayName,ownerHasVerifiedBadge:m.hasVerifiedBadge}),O().createElement("div",{className:"text-info rbx-game-status rbx-".concat(n,"game-server-status text-overflow")},o),O().createElement(kr,{maxPlayerCount:S,currentPlayerCount:y}),a===Dr.friend.key&&O().createElement(gr,{translate:t,players:p}),v&&O().createElement("div",{className:"rbx-".concat(n,"game-server-alert")},O().createElement("span",{className:"icon-remove"}),t(Or.slowGameWarning)),P&&O().createElement(sr,{privateServerId:l,isPaymentCancelled:!(null!=w&&w.active)&&0<(null==w?void 0:w.price),isInsufficientFunds:null==w?void 0:w.hasInsufficientFunds,isServerInactive:x,canRenew:(null==w?void 0:w.canRenew)&&!(null!=w&&w.active),setSubscription:E,isLoading:b,systemFeedbackService:g}),!x&&!(null!=w&&w.isExpired)&&O().createElement("span",{"data-placeid":i},O().createElement(L.Button,{className:"btn-full-width btn-control-xs rbx-".concat(n,"game-server-join game-server-join-btn"),onClick:Fe(i,{instanceId:r,accessCode:d},a),isDisabled:b||R.disableJoinButtonForFullServers&&S<=y},t(Or.joinServerText))),a===Dr.public.key&&O().createElement("div",{className:"server-id-text text-info xsmall"},I))))}jr.defaultProps={id:null,cssKey:"",canManagePlace:!1,name:"",vipServerId:0,accessCode:"",showSlowGameMessage:!1,owner:void 0,vipServerSubscription:void 0,players:[],maxPlayers:0,currentPlayersCount:0},jr.propTypes={id:t().string,translate:t().func.isRequired,cssKey:t().string,serverListType:t().string.isRequired,placeId:t().number.isRequired,name:t().string,vipServerId:t().number,maxPlayers:t().number,currentPlayersCount:t().number,vipServerSubscription:{canRenew:t().bool.isRequired,active:t().bool.isRequired,hasInsufficientFunds:t().bool.isRequired,price:t().number.isRequired,expired:t().bool.isRequired},accessCode:t().string,gameServerStatus:t().string.isRequired,canManagePlace:t().bool,showSlowGameMessage:t().bool,owner:{id:t().number.isRequired,name:t().string.isRequired,displayName:t().string.isRequired,hasVerifiedBadge:t().bool.isRequired},players:t().arrayOf(t().any),onShutdownServerSuccess:t().func.isRequired,isLoading:t().bool.isRequired,setIsLoading:t().func.isRequired,systemFeedbackService:t().shape({success:t().func.isRequired,warning:t().func.isRequired}).isRequired};var Mr=jr,qr=function(){return(qr=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var a in r=arguments[t])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e}).apply(this,arguments)},Gr=g,Br=p,Ur=(0,n.withTranslations)(function(e){var r=e.translate,t=e.options,n=e.setOptions,e=void 0!==(e=e.isLoading)&&e;return O().createElement("div",{className:"server-list-options"},O().createElement("div",{className:"select-group"},O().createElement("label",{className:"select-label text-label",htmlFor:"sort-select"},r(Gr.numberOfPlayers)||"Number of Players"),O().createElement("div",{className:"rbx-select-group select-group"},O().createElement("select",{onChange:function(r){y.EventStream.SendEventWithTarget("serverListOptionsInteraction","sortSelect",{pid:ke(),sort:r.currentTarget.value},y.EventStream.TargetTypes.WWW),n(function(e){return qr(qr({},e),{sortOrder:r.currentTarget.value})})},onFocus:function(){y.EventStream.SendEventWithTarget("serverListOptionsInteraction","sortDropdown",{pid:ke()},y.EventStream.TargetTypes.WWW)},disabled:e,value:t.sortOrder,id:"sort-select","data-testid":"sort-select",className:"input-field rbx-select select-option"},O().createElement("option",{value:Br.descending},r(Gr.descending)||"Descending"),O().createElement("option",{value:Br.ascending},r(Gr.ascending)||"Ascending")),O().createElement("span",{className:"icon-arrow icon-down-16x16"}))),O().createElement("div",{className:"checkbox"},O().createElement("input",{onChange:function(r){y.EventStream.SendEventWithTarget("serverListOptionsInteraction","filterSelect",{pid:ke(),checked:r.currentTarget.checked},y.EventStream.TargetTypes.WWW),n(function(e){return qr(qr({},e),{excludeFullGames:r.currentTarget.checked})})},disabled:e,type:"checkbox",id:"filter-checkbox","data-testid":"filter-checkbox",checked:t.excludeFullGames}),O().createElement("label",{className:"checkbox-label text-label",htmlFor:"filter-checkbox"},r(Gr.hideFullServers)||"Hide Full Servers")))},a);function Vr(){return(Vr=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t,n=arguments[r];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}function _r(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(t.push(o.value),!r||t.length!==r);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return t}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return Hr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Hr(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hr(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var Wr=(p=_r((0,L.createSystemFeedback)(),2))[0],zr=p[1],Jr=l,$r=g,Kr=v,Qr=C,Xr=m;function Yr(e){var r=e.gameInstances,d=e.handleGameInstanceShutdownAtIndex,t=e.headerTitle,v=e.isLoading,n=e.loadMoreGameInstances,a=e.loadingError,m=e.placeId,i=e.refreshGameInstances,p=e.setIsLoading,o=e.showLoadMoreButton,f=e.translate,g=e.type,b=e.userCanManagePlace,h="".concat(g,"-"),s=0===r.length,c="rbx-".concat(h,"running-games-footer"),l="rbx-".concat(h,"running-games"),u="card-list rbx-".concat(h,"game-server-item-container"),S="rbx-".concat(h,"game-server-item-container"),y=(0,N.useMemo)(function(){var e=r.length%Kr;return 0<e&&o?r.slice(0,-1*e):r},[r,o]),e=_r((0,N.useState)(Qr),2),I=e[0],e=e[1];return(0,N.useEffect)(function(){null!=i&&i(I)},[I]),O().createElement(N.Fragment,null,O().createElement(Wr,null),O().createElement("div",{id:l,className:"stack server-list-section","data-placeid":m,"data-showshutdown":!0},t&&O().createElement("div",{className:"container-header"},O().createElement("div",{className:"server-list-container-header"},O().createElement("h2",{className:"server-list-header"},t),O().createElement(L.Button,{className:"btn-more rbx-refresh refresh-link-icon",isDisabled:v,onClick:function(){return i(I)},size:L.Button.sizes.extraSmall,variant:L.Button.variants.control},f($r.privateServerRefreshText)||"Refresh")),g===Xr.public.key&&O().createElement(Ur,{isLoading:v,options:I,setOptions:e,translate:f})),s?O().createElement("div",{className:"section-content-off empty-game-instances-container"},v?O().createElement(L.Loading,null):O().createElement("p",{className:"no-servers-message"},a?f($r.loadServersError)||"Unable to load servers.":f($r.noServersFoundText))):O().createElement(N.Fragment,null,O().createElement("ul",{id:S,className:u},y.map(function(e,r){var t=e.accessCode,n=e.id,a=e.maxPlayers,i=e.name,o=e.owner,s=e.pfs,c=e.players,l=e.playing,u=e.vipServerId,e=e.vipServerSubscription;return O().createElement(Mr,Vr({key:u},{accessCode:t,canManagePlace:b,cssKey:h,currentPlayersCount:l||c.length,gameServerStatus:f($r.playerCountText,{currentPlayers:l||c.length,maximumAllowedPlayers:a}),id:n,isLoading:v,maxPlayers:a,name:i,onShutdownServerSuccess:function(){d(r)},owner:o,placeId:m,players:c,serverListType:g,setIsLoading:p,showSlowGameMessage:s<Jr,systemFeedbackService:zr,translate:f,vipServerId:u,vipServerSubscription:e}))})),O().createElement("div",{className:c},o&&O().createElement(L.Button,{className:"rbx-running-games-load-more",isDisabled:v,onClick:function(){return n(I)},type:"button",variant:L.Button.variants.control,width:L.Button.widths.full},f($r.loadMoreButtonText))))))}Yr.defaultProps={showLoadMoreButton:!1,loadMoreButtonText:"",headerTitle:"",gameInstances:[]},Yr.propTypes={translate:t().func.isRequired,type:t().string.isRequired,placeId:t().number.isRequired,headerTitle:t().string,loadMoreGameInstances:t().func.isRequired,showLoadMoreButton:t().bool,loadMoreButtonText:t().string,gameInstances:t().arrayOf(t().any),refreshGameInstances:t().func.isRequired,handleGameInstanceShutdownAtIndex:t().func.isRequired,userCanManagePlace:t().bool.isRequired,isLoading:t().bool.isRequired,setIsLoading:t().func.isRequired,loadingError:t().bool.isRequired};var Zr=(0,n.withTranslations)(Yr,a),et=(v={gameDetailTabs:v={about:"tab-about",store:"tab-store",servers:"tab-game-instances"},gameDetailHashesToTabs:{"#!/about":v.about,"#!/store":v.store,"#!/game-instances":v.servers}}).gameDetailTabs;function rt(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(t.push(o.value),!r||t.length!==r);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return t}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return tt(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tt(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function nt(){if(!ot())return null;var e=it[window.location.hash];return e||at.about}var at=v.gameDetailTabs,it=v.gameDetailHashesToTabs,ot=function(){var r=document.getElementById("horizontal-tabs");if(r){var e=Object.values(et);try{e.forEach(function(e){if(!r.querySelector("#".concat(e)))throw new Error("Unable to find horizontal tab with id ".concat(e))})}catch(e){return console.log(e.message),!1}return!0}return!1},st=function(){function e(){n(nt())}var r=rt((0,N.useState)(nt()),2),t=r[0],n=r[1];return(0,N.useEffect)(function(){return window.addEventListener("hashchange",e),function(){window.removeEventListener("hashchange",e)}},[]),t};function ct(e,r,t,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void t(e)}s.done?r(c):Promise.resolve(c).then(n,a)}function lt(s){return function(){var e=this,o=arguments;return new Promise(function(r,t){var n=s.apply(e,o);function a(e){ct(n,r,t,a,i,"next",e)}function i(e){ct(n,r,t,a,i,"throw",e)}a(void 0)})}}function ut(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(t.push(o.value),!r||t.length!==r);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return t}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return dt(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dt(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function vt(e){return JSON.parse(JSON.stringify(e))}var mt=Y,pt=function(s){var c=1<arguments.length&&void 0!==arguments[1]&&arguments[1],e=(I=mt()).gameDetailCanCreateServer,l=I.gameDetailPlaceId,r=I.gameDetailPlaceName,t=I.gameDetailPrivateServerPrice,n=I.gameDetailPrivateServerProductId,a=I.gameDetailSellerId,i=I.gameDetailSellerName,o=I.gameDetailUniverseId,u=I.gameDetailUserCanManagePlace,d=(w=ut((0,N.useState)(!1),2))[0],v=w[1],m=(y=ut((0,N.useState)(!1),2))[0],p=y[1],f=(I=ut((0,N.useState)([]),2))[0],g=I[1],b=(w=ut((0,N.useState)(""),2))[0],h=w[1],S=(0,N.useCallback)(lt(regeneratorRuntime.mark(function e(){var r,t,n,a,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=0<o.length&&void 0!==o[0]?o[0]:{},t=1<o.length&&void 0!==o[1]&&o[1],d)throw Error("Cannot load more servers while a request is in flight");e.next=4;break;case 4:return v(!0),p(!1),e.prev=6,e.next=9,s(l,t?"":b,r);case 9:return a=e.sent,i=a.data,n=i.data,a=i.nextPageCursor,e.next=15,Promise.all(n.map(function(){var r=lt(regeneratorRuntime.mark(function e(r){var t,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r.players&&(r.players=[]),t=r.players,n=r.playerTokens,a={},t.forEach(function(e){a[e.playerToken]=e}),n.forEach(function(e){null==a[e]&&t.push({id:null,name:null,playerToken:e,displayName:null})}),c&&r.vipServerId&&(null===(n=r.owner)||void 0===n?void 0:n.id)===be.authenticatedUser.id)return i=r.vipServerId,e.prev=7,e.next=10,H.getVipServer(i);e.next=17;break;case 10:i=e.sent,i=i.data,r.vipServerSubscription=i.subscription,e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:case"end":return e.stop()}},e,null,[[7,15]])}));return function(e){return r.apply(this,arguments)}}()));case 15:g(t?n:function(e,r){var t=vt(e),n={};return t.forEach(function(e){void 0!==e.id&&(n[e.id]=e)}),r.forEach(function(e){var r=n[e.id];r?Object.assign(r,e):t.push(e)}),t}(f,n)),h(a),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(6),g([]),h(""),p(!0);case 24:return e.prev=24,r.startTime&&(i=performance.now()-r.startTime,(0,E.endSuccess)(ee.PRIVATE_SERVER_LOAD),ae.sendEvent(ee.PRIVATE_SERVER_LOAD,re.GAME_TAB,i)),v(!1),e.finish(24);case 28:case"end":return e.stop()}},e,null,[[6,19,24,28]])})),[d,l,b,f,s,c]),y=(0,N.useCallback)(function(e){if(d)throw Error("Cannot remove server from list while a request is in flight");var r=vt(f);r.splice(e,1),g(r)},[d,f]),I=(0,N.useCallback)(function(e){if(d)throw Error("Cannot clear server while a request is in flight");var r=vt(f),e=r[e];e.playerTokens=[],e.players=[],e.playing=0,e.id=null,g(r)},[d,f]),w=(0,N.useCallback)(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(d)throw Error("Cannot refresh server list while a request is in flight");S(e,!0)},[d,S]);return{metaData:{universeId:o,placeId:l,placeName:r,canCreateServer:e,price:t,userCanManagePlace:u,sellerId:a,sellerName:i,privateServerProductId:n},servers:f,loadMoreServers:S,removeServerAtIndex:y,clearServerAtIndex:I,refreshServers:w,hasNext:!!b,isBusy:d,setIsBusy:v,hasError:m}};function ft(){return(ft=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t,n=arguments[r];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}function gt(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(t.push(o.value),!r||t.length!==r);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return t}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return bt(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bt(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var ht=v.gameDetailTabs,St=g,yt=m;function It(e){var r=e.translate,t=e.showServers,n=e.intl,a=pt(H.getVipGameInstances,t,!1),i=a.clearServerAtIndex,o=a.hasError,s=a.hasNext,c=a.isBusy,l=a.loadMoreServers,u=a.metaData,d=u.canCreateServer,v=u.placeId,m=u.placeName,p=u.price,f=u.privateServerProductId,g=u.sellerId,b=u.sellerName,h=u.universeId,S=u.userCanManagePlace,y=a.refreshServers,I=a.servers,w=a.setIsBusy,E=st(),e=gt((0,N.useState)(!0),2),T=e[0],P=e[1];(0,N.useEffect)(function(){E!==ht.servers?P(!0):P(!1)},[E]),(0,N.useEffect)(function(){E===ht.servers&&t&&T&&y(C)},[E,T,t]);var x,a=(u=I,x=Me().gameDetailPrivateServerLimit,u.forEach(function(e){e.owner.id===be.authenticatedUser.id&&--x}),0<x),e=0!==f,u='<a class="text-link" href="#!/game-instances">'.concat(r(St.serversText),"</a>"),n='<a class="text-link" href="'.concat(D(n.getRobloxLocale()),'">').concat(r(St.privateServerHeader),"</a>");return O().createElement("div",{id:"rbx-private-servers",className:"stack"},O().createElement("div",{className:"container-header"},O().createElement("h2",null,r(St.privateServerHeader)),t&&e&&O().createElement(L.Button,{className:"btn-more rbx-refresh refresh-link-icon",isDisabled:c,onClick:function(){return y()},size:L.Button.sizes.extraSmall,variant:L.Button.variants.control},r(St.privateServerRefreshText)),O().createElement(L.Tooltip,{content:r(St.privateServerTooltip),id:"private-server-tooltip",placement:"bottom"},O().createElement("span",{className:"icon-moreinfo"}))),e?O().createElement(N.Fragment,null,O().createElement("div",{className:"create-server-banner section-content remove-panel"},O().createElement("div",{className:"create-server-banner-text text"},d&&O().createElement("span",{className:"private-server-price",dangerouslySetInnerHTML:{__html:r(St.privateServerPrice,{price:(0,R.renderToString)(O().createElement(A.PriceLabel,{price:p}))})}}),O().createElement("span",{className:"play-with-others-text"},r(St.privateServerPlayWithOthers),O().createElement("br",null),!t&&O().createElement("span",{dangerouslySetInnerHTML:{__html:r(St.seeAllPrivateServersText,{serversLink:u})}}))),d&&O().createElement(fe,ft({privateServerTranslate:r,refreshServers:y},{placeName:m,universeId:h,price:p,canCreatePrivateServer:a,sellerId:g,sellerName:b,productId:f}))),O().createElement("div",{className:"section tab-server-only"},t&&O().createElement(Zr,{gameInstances:I,handleGameInstanceShutdownAtIndex:i,isLoading:c,loadMoreGameInstances:l,loadingError:o,placeId:v,setIsLoading:w,showLoadMoreButton:s,type:yt.Vip.key,userCanManagePlace:S}))):O().createElement("div",{className:"section-content-off",dangerouslySetInnerHTML:{__html:r(St.privateServersNotSupported,{vipServersLink:n})}}))}It.defaultProps={showServers:!0},It.propTypes={intl:t().shape({getRobloxLocale:t().func.isRequired}).isRequired,showServers:t().bool,translate:t().func.isRequired};var wt=(0,n.withTranslations)(It,i);function Et(e){var r=e.type,t=e.translate,n=e.headerTitleResource,a=e.getGameServers,i=pt(a),o=i.servers,s=i.loadMoreServers,c=i.refreshServers,l=i.removeServerAtIndex,u=i.hasNext,d=i.isBusy,v=i.setIsBusy,e=i.hasError,a=i.metaData,i=a.placeId,a=a.userCanManagePlace;return O().createElement(Zr,{type:r,placeId:i,gameInstances:o,headerTitle:t(n),showLoadMoreButton:u,loadMoreGameInstances:s,refreshGameInstances:c,handleGameInstanceShutdownAtIndex:l,userCanManagePlace:a,isLoading:d,setIsLoading:v,loadingError:e})}Et.propTypes={type:t().string.isRequired,translate:t().func.isRequired,headerTitleResource:t().string.isRequired,getGameServers:t().func.isRequired};var Tt=(0,n.withTranslations)(Et,a);function Pt(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(t.push(o.value),!r||t.length!==r);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return t}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return xt(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xt(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var Rt=m,At=g,Ct=v.gameDetailTabs;function Nt(){var e=Pt((0,N.useState)(!1),2),r=e[0],t=e[1],n=st();return(0,N.useEffect)(function(){r||n===Ct.servers&&t(!0)},[n,r]),n&&!r?O().createElement(N.Fragment,null):O().createElement(fr,null,O().createElement(wt,null),O().createElement(Tt,{type:Rt.friend.key,getGameServers:H.getFriendsGameInstances,headerTitleResource:At.friendsServersTitle}),O().createElement(Tt,{type:Rt.public.key,getGameServers:H.getPublicGameInstances,headerTitleResource:At.publicServersTitle}))}Nt.propTypes={};var Ot=Nt,Lt="running-game-instances-container";(0,d.ready)(function(){document.getElementById(Lt)&&(0,e.render)(O().createElement(Ot,null),document.getElementById(Lt))})}()}();
//# sourceMappingURL=https://sourcemaps.rbxcdn.com/0da02fb1b32ae63f4db3c080c50daf7a-serverList.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("ServerList");